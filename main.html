<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Windows 12 Simulation</title>
<style>
  body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background: url('https://picsum.photos/1920/1080?blur=5') no-repeat center center fixed;
    background-size: cover;
    overflow: hidden;
  }
  #desktop { position: relative; width: 100vw; height: 100vh; }
  .icon { width: 80px; text-align: center; color: white; cursor: pointer; display: inline-block; margin: 10px; }
  .icon img { width: 64px; height: 64px; display: block; margin: auto; }
  #taskbar { position: absolute; bottom: 0; left: 0; width: 100%; height: 40px; background: rgba(0,0,0,0.6); display: flex; align-items: center; }
  #start-button { width: 60px; text-align: center; color: white; cursor: pointer; user-select: none; }
  #start-menu { position: absolute; bottom: 40px; left: 0; width: 200px; background: rgba(0,0,0,0.8); color: white; display: none; flex-direction: column; padding: 10px; }
  #start-menu button { background: none; border: none; color: white; padding: 5px; text-align: left; cursor: pointer; }
  .window { position: absolute; width: 300px; height: 200px; background: rgba(255,255,255,0.95); border: 1px solid #aaa; border-radius: 6px; box-shadow: 0 0 10px rgba(0,0,0,0.5); }
  .titlebar { background: #0078d4; color: white; padding: 5px; cursor: move; display: flex; justify-content: space-between; align-items: center; user-select: none; }
  .titlebar button { background: red; border: none; color: white; border-radius: 3px; cursor: pointer; }
  .content { padding: 10px; height: calc(100% - 30px); overflow: auto; }
</style>
</head>
<body>
<div id="desktop">
  <div class="icon" onclick="openApp('Notepad')">
    <img src="https://cdn-icons-png.flaticon.com/512/105/105223.png" />
    <p>Notepad</p>
  </div>
  <div id="taskbar">
    <div id="start-button" onclick="toggleStartMenu()">Start</div>
  </div>
  <div id="start-menu">
    <button onclick="openApp('Calculator')">Calculator</button>
  </div>
  <div id="windows-container"></div>
</div>

<script>
  const startMenu = document.getElementById('start-menu');
  function toggleStartMenu() { startMenu.style.display = startMenu.style.display === 'flex' ? 'none' : 'flex'; }

  const windowsContainer = document.getElementById('windows-container');
  let zIndexCounter = 1;

  function openApp(name) {
    const win = document.createElement('div');
    win.className = 'window';
    win.style.top = '100px';
    win.style.left = '100px';
    win.style.zIndex = zIndexCounter++;
    win.innerHTML = `
      <div class="titlebar" onmousedown="dragStart(event,this.parentElement)">${name}
        <button onclick="closeWindow(this)">X</button>
      </div>
      <div class="content">${name === 'Notepad' ? '<textarea style="width:100%;height:100%;"></textarea>' : '<p>App Content</p>'}</div>`;
    windowsContainer.appendChild(win);
  }

  function closeWindow(btn) { btn.closest('.window').remove(); }

  let dragData = null;
  function dragStart(e, win) {
    e.preventDefault();
    dragData = {win, offsetX: e.clientX - win.offsetLeft, offsetY: e.clientY - win.offsetTop};
    window.addEventListener('mousemove', dragMove);
    window.addEventListener('mouseup', dragEnd);
  }

  function dragMove(e) {
    if (!dragData) return;
    dragData.win.style.left = (e.clientX - dragData.offsetX) + 'px';
    dragData.win.style.top = (e.clientY - dragData.offsetY) + 'px';
  }

  function dragEnd() { dragData = null; window.removeEventListener('mousemove', dragMove); window.removeEventListener('mouseup', dragEnd); }
</script>
</body>
</html>
